package components

// MenuItem –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–¥–∏–Ω –ø—É–Ω–∫—Ç –±–æ–∫–æ–≤–æ–≥–æ –º–µ–Ω—é.
// –î–æ–±–∞–≤–ª—è–π –Ω–æ–≤—ã–µ –ø—É–Ω–∫—Ç—ã —á–µ—Ä–µ–∑ DefaultMenuItems –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–π —Å–≤–æ–π —Å–ª–∞–π—Å.
type MenuItem struct {
	Title string
	URL   string
	Icon  string
}

// DefaultMenuItems –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
func DefaultMenuItems() []MenuItem {
	return []MenuItem{
		{Title: "–î–∞—à–±–æ—Ä–¥", URL: "/dashboard", Icon: "üìä"},
		{Title: "–ü—Ä–æ—Ñ–∏–ª—å", URL: "/profile", Icon: "üë§"},
		{Title: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏", URL: "/settings", Icon: "‚öôÔ∏è"},
	}
}

// SideMenu —Ä–µ–Ω–¥–µ—Ä–∏—Ç –±–æ–∫–æ–≤—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é.
// activeURL ‚Äî —Ç–µ–∫—É—â–∏–π –ø—É—Ç—å (–¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞).
templ SideMenu(items []MenuItem, activeURL string) {
	<aside class="w-64 min-h-screen bg-gray-900 text-white flex flex-col shrink-0">
		<div class="p-6 border-b border-gray-700">
			<a href="/dashboard" class="text-xl font-bold text-indigo-400 tracking-tight">Template App</a>
		</div>
		<nav class="flex-1 p-4 space-y-1">
			for _, item := range items {
				@sideMenuItem(item, item.URL == activeURL)
			}
		</nav>
		<div class="p-4 border-t border-gray-700">
			<a
				href="/logout"
				class="flex items-center gap-3 px-4 py-2 rounded-lg text-gray-400 hover:bg-red-900/40 hover:text-red-300 transition-colors text-sm"
			>
				<span>üö™</span>
				<span>–í—ã–π—Ç–∏</span>
			</a>
		</div>
	</aside>
}

templ sideMenuItem(item MenuItem, isActive bool) {
	if isActive {
		<a
			href={ templ.SafeURL(item.URL) }
			class="flex items-center gap-3 px-4 py-2 rounded-lg bg-indigo-600 text-white font-medium"
		>
			<span>{ item.Icon }</span>
			<span>{ item.Title }</span>
		</a>
	} else {
		<a
			href={ templ.SafeURL(item.URL) }
			class="flex items-center gap-3 px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors"
		>
			<span>{ item.Icon }</span>
			<span>{ item.Title }</span>
		</a>
	}
}
