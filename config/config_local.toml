# Настройки HTTP/gRPC сервера
[server]
# Хост сервера
host = "localhost"
# Основной порт приложения
port = "7001"
# Окружение: local, dev, prod
env = "local"
# Порт HTTP сервера
http_port = "7001"
# Порт gRPC сервера
grpc_port = "7000"
# Порт debug/pprof
debug_port = "7003"
# Порт Swagger UI
swagger_port = "7002"
# Разрешить обход авторизации (только для локальной разработки)
auth_bypass = false
# Ключ для CSRF защиты (32 байта для продакшена)
csrf_key = "01234567890123456789012345678901"

# Уровень логирования: DEBUG, INFO, WARN, ERROR
[log]
level = "WARN"
# Формат вывода: text=false , json = true
format = false
# Включить отправку логов в Loki
loki_enabled = false
# URL Loki push API
loki_url = "http://localhost:3100/loki/api/v1/push"
# Переопределения для компонентов.
overrides = { "temporal" = "INFO", "telegram" = "DEBUG", "db" = "DEBUG", "api" = "WARN", "ui" = "DEBUG", "bot:reminder" = "DEBUG" }

# Переключатели функций
[metrics]
# Включить сбор метрик
enable_metrics = false


# Подключение к PostgreSQL
[PG]
# Хост базы данных
host = "localhost"
# Порт базы данных
port = "5432"
# Пользователь БД
user = "postgres"
# Пароль БД
password = "postgres"
# Схема БД
scheme = "public"
# Имя базы данных
db = "template"

# Подключение к RabbitMQ
[rabbit]
# AMQP URI для подключения к RabbitMQ
amqp_url = "amqp://guest:guest@localhost:5672"

# Настройки JWT аутентификации
[JWT]
# Секретный ключ подписи токенов
sign_key = "secret"
# Время жизни access токена
token_ttl = "20000m"
# Время жизни refresh токена
refresh_token_ttl = "20000m"

# Настройки OpenTelemetry
[otel]
# Адрес OTEL Collector (gRPC)
endpoint = "localhost:4317"
# Процент трейсов для сохранения (0.0–1.0)
sample_rate = 1.0

# Настройки etcd для feature flags
[etcd]
# Адреса etcd серверов
endpoints = "localhost:2379"
# Префикс ключей флагов
prefix = "/flags/"

# Настройки Temporal
[temporal]
# Хост Temporal сервера
host = "localhost"
# Порт Temporal сервера
port = 7233
# Пространство имён
namespace = "default"
# Очередь задач
task_queue = "default-task-queue"

# Настройки Telegram бота
[telegram]
# Токен бота от @BotFather
token = "7945584611:AAGW6WjOfgn6uVjuiuh7pCOoPJ2--RdU3k0"
# URL для вебхука (пусто = long polling для локальной разработки)
webhook_url = ""
# URL Mini App (WebApp) для открытия в Telegram WebView
miniapp_url = ""
